/*
  archive.js - v0.1.0 - Nov 25, 2012
  <https://github.com/niklasvh/archive.js>
  Copyright (c) 2012 Niklas von Hertzen (@niklasvh)

  Licensed under MIT license
*/
(function(e,t,n){(function(){e.Archive=function(){function t(e){this.buffer=e}return t.prototype.load=function(e){var t,n;return n=new XMLHttpRequest,n.open("GET",e,!0),n.responseType="arraybuffer",t=this,n.onload=function(){this.status===200&&(t.buffer=this.response,t.type=t.TAR_CONTAINER)},n.send(),n},t.prototype.error=function(e){throw new Error(e)},t.prototype.getFiles=function(t){var n;t==null&&(t=this.type);switch(t){case this.TAR_CONTAINER:n=e.Archive.TAR;break;default:error("Unknown container format")}return new e.Archive.FileList((new n).parse(this.buffer))},t.TAR_CONTAINER=1,t}()}).call(this),function(){e.Archive.File=function(){function e(e,t,n){this.filename=e,this.buffer=t,this.compressed=n!=null?n:!1}return e}()}.call(this),function(){e.Archive.FileList=function(){function e(e){this.files=e!=null?e:[]}return e.prototype.getFile=function(e){var t;return t=this.files.filter(function(t){return t.filename===e}),t.length>0?t[0]:null},e}()}.call(this),function(){e.Archive.TAR=function(){function t(){}return t.prototype.parse=function(t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g;a=new Uint8Array(t),o=0,g=[];while(o<t.byteLength){s="";for(r=f=o,h=o+99;o<=h?f<=h:f>=h;r=o<=h?++f:--f)a[r]!==0&&(s+=String.fromCharCode(a[r]));if(s.length===0)break;u="";for(r=l=p=o+124,d=o+135;l<=d;r=l+=1)u+=String.fromCharCode(a[r]);i="";for(r=c=v=o+136,m=o+147;c<=m;r=c+=1)i+=String.fromCharCode(a[r]);o+=512,u=parseInt(u.replace(/^[0]+/g,""),8),n=t.slice(o,o+=u),o+=512-o%512,g.push(new e.Archive.File(s,n))}return g},t}()}.call(this)})(window,document);